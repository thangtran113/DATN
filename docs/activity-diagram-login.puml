@startuml Activity Diagram - Đăng nhập hệ thống
!theme plain
skinparam backgroundColor #FEFEFE
skinparam activity {
    BackgroundColor #E3F2FD
    BorderColor #2196F3
    FontSize 12
}
skinparam activityDiamond {
    BackgroundColor #FFF9C4
    BorderColor #FBC02D
}

title Activity Diagram - Quy trình Đăng nhập

start
|User|
:Mở ứng dụng;
:Nhấn nút "Đăng nhập";
:Nhập email và mật khẩu;

|System|
:Kiểm tra dữ liệu đầu vào;

if (Dữ liệu hợp lệ?) then (Không)
  :Hiển thị lỗi validation;
  stop
else (Có)
  :Gửi yêu cầu đến Firebase Auth;
  
  if (Thông tin đăng nhập đúng?) then (Không)
    :Hiển thị "Email hoặc mật khẩu không đúng";
    :Hiển thị nút "Quên mật khẩu";
    stop
  else (Có)
    :Lấy thông tin user từ Firestore;
    :Lưu session/token;
    :Cập nhật lastLoginAt;
    :Chuyển đến Home Screen;
    :Hiển thị danh sách phim;
    stop
  endif
endif

@enduml
