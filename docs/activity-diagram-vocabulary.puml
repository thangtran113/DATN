@startuml Activity Diagram - Quản lý từ vựng và ôn tập
!theme plain
skinparam backgroundColor #FEFEFE
skinparam activity {
    BackgroundColor #E3F2FD
    BorderColor #2196F3
    FontSize 12
}
skinparam activityDiamond {
    BackgroundColor #FFF9C4
    BorderColor #FBC02D
}

title Activity Diagram - Quản lý từ vựng và ôn tập Flashcard

start
|User|
:Vào mục "Từ vựng của tôi";

|System|
:Load danh sách từ từ Firestore;
:Hiển thị danh sách từ vựng;

|User|
if (Chọn hành động?) then (Xem danh sách)
  :Xem tất cả từ đã lưu;
  :Lọc theo phim/ngày;
  
  if (Xóa từ?) then (Có)
    |System|
    :Xóa từ khỏi Firestore;
    :Cập nhật danh sách;
  endif
  stop

else if (Ôn tập Flashcard) then
  :Nhấn "Ôn tập Flashcard";
  
  |System|
  :Load từ vựng cần ôn tập;
  :Sắp xếp theo SRS;
  
  repeat
    |System|
    :Hiển thị flashcard;
    :Mặt trước: Từ tiếng Anh;
    
    |User|
    :Xem từ và suy nghĩ;
    :Nhấn "Lật thẻ";
    
    |System|
    :Hiển thị mặt sau:\n- Nghĩa\n- Phiên âm\n- Ví dụ;
    
    |User|
    if (Đánh giá?) then (Khó)
      |System|
      :Giảm interval;
    else if (Trung bình) then
      |System|
      :Tăng interval vừa;
    else (Dễ)
      |System|
      :Tăng interval nhiều;
    endif
    
    |System|
    :Lưu trạng thái;
    
  repeat while (Còn flashcard?) is (Có)
  
  |System|
  :Hiển thị thống kê ôn tập;
  stop

else (Xem thống kê)
  |System|
  :Hiển thị dashboard:\n- Số từ đã lưu\n- Số từ đã thuộc\n- Biểu đồ tiến độ;
  stop
endif

@enduml
